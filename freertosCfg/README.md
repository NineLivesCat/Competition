# Introduction

* This directory is an demo configuration files for `freertos 9.0` and `hal library` Other project should keep project structure the same as this configuration files

# Author

* NineLivesCat

# Structure

* os      :    freertos ,hal and core directory
    * Core      :   core library
        * source    :   shared header and code
    * Drivers   :   
        * CMSIS :   CMSISOS files
        * STM32F1xx_HAL_Driver  :   HAL library files
    * Middlewares     :   RTOS
        * Third_Party\FreeRTOS\Source   :   Freertos
    * Makefile  :   original makefile generated by STM32CubeMX
    * oscfg.mk  :   rtos configuration files
    * syscfg.mk :   hal configuration files
    * startup_stm32f105xc.s :   startup files
    * STM32F105RCTx_FLASH.ld:   link script
    * tesdad.ioc            :   STM32CubeMX file
* source    :   header and code
* tool      :   some tool for user
    * FreeRTOSv10.2.1           :   original freertos file
    * STM32CubeMX_5-2-1.zip     :   STM32CubeMX
* build.mk  :   bulid rule
* Makefile  :   personal makefile
* README.md :   this file

# Todo

* nothing currently

# Update

* 2019/7/11     By:NLC          upload

# Configure Environment

## For Linux (tested on Ubuntu 18.04)

* run command `sudo apt-get install openocd gcc-arm-none-eabi`
* download the configurations flies and put it on any directory you want
* change to directory where you put configurations flies
* run command `make` or `make -j`
* if `build` directory and `*.elf` is created, the environment is configured well
* (optional) download VSCode and buy a Jlink for better coding and debugging 

## For MAC OSX

* install homebrew via https://brew.sh
* install XCode command line toolchain
 `xcode-select --install`
 `brew cask install xquartz java`
 `brew install open-ocd`
 `brew tap PX4/px4`
 `brew install px4-dev`
* download the configurations flies and put it on any directory you want
* change to directory where you put configurations flies
* run command `make` or `make -j`
* if `build` directory and `*.elf` is created, the environment is configured well
* (optional) download VSCode and buy a Jlink for better coding and debugging

## For Windows

* download configurations flies
* install `JDK` ,configure the system environment and restart computer 
* run cmd or powershell enter `java -version` to check if JDK is installed
* copy `./tool/STM32CubeMX_5-2-1.zip` unzip it and install STM32CubeMX for regenerating code and configuration files.
* copy `../GNU/GNU Tools`(ues`{GNUTOOLS_Directory}` to represent its directory below) and `../GNU/GNU Tools for ARM Embedded`(ues`{ARMTOOLS_Directory}` to represent its directory below) to another directory 
* add   `{GNUTOOLS_Directory}/GNU Tools/bin` 
 `{ARMTOOLS_Directory}/GNU Tools ARM Embedded\7.0 2017q4\bin`
 to system environment and restart computer
* run cmd or powershell enter `arm-none-eabi-gcc -v` and `make -v` to check the environment configuration
* change to directory where you put configurations flies
* run command `make` or `make -j`
* if `build` directory and `*.elf` is created, the environment is configured well
* (optional) download VSCode and buy a Jlink for better coding and debugging

